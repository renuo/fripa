---
http_interactions:
- request:
    method: post
    uri: https://ipa.demo1.freeipa.org/ipa/session/login_password
    body:
      encoding: US-ASCII
      string: user=admin&password=<PASSWORD>
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/x-www-form-urlencoded
      Referer:
      - https://ipa.demo1.freeipa.org/ipa
  response:
    status:
      code: 200
      message: Success
    headers:
      date:
      - Tue, 07 Oct 2025 13:53:04 GMT
      server:
      - Apache/2.4.59 (Fedora Linux) OpenSSL/3.1.1 mod_wsgi/4.9.4 Python/3.12 mod_auth_gssapi/1.6.5
      set-cookie:
      - ipa_session=MagBearerToken=JRfAnYaz01kORsOundIE07Ze8yGMuop2DNQ6V0Qc182tMfKZ39yU9QgtSGFF%2f6hVE8gn6xo%2blg1t9sUGwbGaVoYRrFqOlOOA3DQJcueSEEktrEFyVV80hhuhvp1xKFUzbHtRs4CscVwZCM78sNv312Bo0WW9lV35NiGvmb7SUUxX27br7Lx%2bLpQieLcG%2fROA%2biDRQKO8ot2IJ4UQrb8jaMCC8UEhAN5Fbg5%2fEvOgCOA%3d;path=/ipa;httponly;secure;
      x-frame-options:
      - DENY
      content-security-policy:
      - frame-ancestors 'none'
      cache-control:
      - no-cache, private
      vary:
      - Accept-Encoding
      content-encoding:
      - gzip
      content-length:
      - '20'
      content-type:
      - text/plain; charset=UTF-8
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Tue, 07 Oct 2025 13:53:04 GMT
- request:
    method: post
    uri: https://ipa.demo1.freeipa.org/ipa/session/json
    body:
      encoding: UTF-8
      string: '{"method":"user_add","params":[["passwdtest"],{"givenname":"Password","sn":"Test","cn":"Password
        Test","userpassword":"OldPass123","version":"2.251"}],"id":0}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Referer:
      - https://ipa.demo1.freeipa.org/ipa
      Cookie:
      - ipa_session=MagBearerToken=JRfAnYaz01kORsOundIE07Ze8yGMuop2DNQ6V0Qc182tMfKZ39yU9QgtSGFF%2f6hVE8gn6xo%2blg1t9sUGwbGaVoYRrFqOlOOA3DQJcueSEEktrEFyVV80hhuhvp1xKFUzbHtRs4CscVwZCM78sNv312Bo0WW9lV35NiGvmb7SUUxX27br7Lx%2bLpQieLcG%2fROA%2biDRQKO8ot2IJ4UQrb8jaMCC8UEhAN5Fbg5%2fEvOgCOA%3d;path=/ipa;httponly;secure;
  response:
    status:
      code: 200
      message: Success
    headers:
      date:
      - Tue, 07 Oct 2025 13:53:04 GMT
      server:
      - Apache/2.4.59 (Fedora Linux) OpenSSL/3.1.1 mod_wsgi/4.9.4 Python/3.12 mod_auth_gssapi/1.6.5
      x-frame-options:
      - DENY
      content-security-policy:
      - frame-ancestors 'none'
      cache-control:
      - no-cache, private
      vary:
      - Accept-Encoding
      content-encoding:
      - gzip
      transfer-encoding:
      - chunked
      content-type:
      - application/json; charset=utf-8
    body:
      encoding: UTF-8
      string: '{"result": {"result": {"givenname": ["Password"], "cn": ["Password
        Test"], "krbprincipalname": ["passwdtest@DEMO1.FREEIPA.ORG"], "homedirectory":
        ["/home/passwdtest"], "displayname": ["Password Test"], "sn": ["Test"], "gidnumber":
        ["1142401990"], "mail": ["passwdtest@demo1.freeipa.org"], "ipauniqueid": ["f28bd2ee-a384-11f0-8dea-06c75374d591"],
        "gecos": ["Password Test"], "uid": ["passwdtest"], "loginshell": ["/bin/sh"],
        "uidnumber": ["1142401990"], "initials": ["PT"], "objectclass": ["top", "person",
        "organizationalperson", "inetorgperson", "inetuser", "posixaccount", "krbprincipalaux",
        "krbticketpolicyaux", "ipaobject", "ipasshuser", "ipaSshGroupOfPubKeys", "mepOriginEntry",
        "ipantuserattrs"], "krbcanonicalname": ["passwdtest@DEMO1.FREEIPA.ORG"], "krbpasswordexpiration":
        [{"__datetime__": "20251007135303Z"}], "krblastpwdchange": [{"__datetime__":
        "20251007135303Z"}], "krbextradata": [{"__base64__": "AAI/G+Vocm9vdC9hZG1pbkBERU1PMS5GUkVFSVBBLk9SRwA="}],
        "mepmanagedentry": ["cn=passwdtest,cn=groups,cn=accounts,dc=demo1,dc=freeipa,dc=org"],
        "has_password": true, "has_keytab": true, "memberof_group": ["ipausers"],
        "dn": "uid=passwdtest,cn=users,cn=accounts,dc=demo1,dc=freeipa,dc=org"}, "value":
        "passwdtest", "summary": "Added user \"passwdtest\""}, "error": null, "id":
        0, "principal": "admin@DEMO1.FREEIPA.ORG", "version": "4.11.1"}'
  recorded_at: Tue, 07 Oct 2025 13:53:05 GMT
- request:
    method: post
    uri: https://ipa.demo1.freeipa.org/ipa/session/json
    body:
      encoding: UTF-8
      string: '{"method":"passwd","params":[["passwdtest","NewPass123","OldPass123"],{"version":"2.251"}],"id":0}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Referer:
      - https://ipa.demo1.freeipa.org/ipa
      Cookie:
      - ipa_session=MagBearerToken=JRfAnYaz01kORsOundIE07Ze8yGMuop2DNQ6V0Qc182tMfKZ39yU9QgtSGFF%2f6hVE8gn6xo%2blg1t9sUGwbGaVoYRrFqOlOOA3DQJcueSEEktrEFyVV80hhuhvp1xKFUzbHtRs4CscVwZCM78sNv312Bo0WW9lV35NiGvmb7SUUxX27br7Lx%2bLpQieLcG%2fROA%2biDRQKO8ot2IJ4UQrb8jaMCC8UEhAN5Fbg5%2fEvOgCOA%3d;path=/ipa;httponly;secure;
  response:
    status:
      code: 200
      message: Success
    headers:
      date:
      - Tue, 07 Oct 2025 13:53:05 GMT
      server:
      - Apache/2.4.59 (Fedora Linux) OpenSSL/3.1.1 mod_wsgi/4.9.4 Python/3.12 mod_auth_gssapi/1.6.5
      x-frame-options:
      - DENY
      content-security-policy:
      - frame-ancestors 'none'
      cache-control:
      - no-cache, private
      vary:
      - Accept-Encoding
      content-encoding:
      - gzip
      transfer-encoding:
      - chunked
      content-type:
      - application/json; charset=utf-8
    body:
      encoding: UTF-8
      string: '{"result": {"result": true, "value": "passwdtest@DEMO1.FREEIPA.ORG",
        "summary": "Changed password for \"passwdtest@DEMO1.FREEIPA.ORG\""}, "error":
        null, "id": 0, "principal": "admin@DEMO1.FREEIPA.ORG", "version": "4.11.1"}'
  recorded_at: Tue, 07 Oct 2025 13:53:05 GMT
recorded_with: VCR 6.3.1
